<!-- Modified template -->
<div class="flex items-center justify-center h-full">
  <div class="max-w-[500px] w-full p-5 border shadow">
    <h1 class="text-center mb-2 font-bold text-2xl">{{isEditMode ? "Edit" : "Create" }} Budget</h1>

    <form [formGroup]="budgetForm" (ngSubmit)="onSubmit()">
      <!-- Title Field -->
      <div class="flex flex-col gap-4 mb-4">
        <label for="title" class="font-semibold w-24">Title</label>
        <input pInputText 
               id="title" 
               formControlName="title" 
               class="flex-auto" 
               autocomplete="off"
               [ngClass]="{'ng-invalid ng-dirty': isFieldInvalid('title')}" />
        <small class="text-red-500" *ngIf="isFieldInvalid('title')">
          {{ getErrorMessage('title') }}
        </small>
      </div>

      <!-- Amount Field -->
      <div class="flex flex-col gap-4 mb-8">
        <label for="amount" class="font-semibold w-24">Limit</label>
        <p-inputNumber 
          id="amount" 
          formControlName="amount" 
          class="flex-auto" 
          autocomplete="off"
          [ngClass]="{'ng-invalid ng-dirty': isFieldInvalid('amount')}" >
        </p-inputNumber>
        <small class="text-red-500" *ngIf="isFieldInvalid('amount')">
          {{ getErrorMessage('amount') }}
        </small>
      </div>

      <!-- Category Field -->
      <div class="flex flex-col gap-4 mb-8">
        <label for="category" class="font-semibold w-24">Category</label>
        <p-select 
          formControlName="category" 
          [options]="categories" 
          optionValue="id" 
          optionLabel="name" 
          placeholder="Select a Category" 
          class="w-full"
          [ngClass]="{'ng-invalid ng-dirty': isFieldInvalid('category')}" >
        </p-select>
        <small class="text-red-500" *ngIf="isFieldInvalid('category')">
          {{ getErrorMessage('category') }}
        </small>
      </div>

      <!-- Buttons -->
      <div class="flex justify-end gap-2">
        <p-button label="Cancel" severity="secondary" routerLink="/budgets" />
        <p-button 
          label="Save" 
          type="submit"
          [disabled]="budgetForm.invalid" />
      </div>
    </form>
  </div>
</div>
